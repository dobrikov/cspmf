(Module ((:) (DataType (Ident "UD") ((:) (Constructor (Ident "raise") (Nothing)) ((:) (Constructor (Ident "lower") (Nothing)) ([])))) ((:) (DataType (Ident "ELA") ((:) (Constructor (Ident "enter") (Nothing)) ((:) (Constructor (Ident "leave") (Nothing)) ((:) (Constructor (Ident "approach") (Nothing)) ([]))))) ((:) (Channel ((:) (Ident "car") ([])) (Just (TypeDot ((:) (Var (Ident "ELA")) ([]))))) ((:) (Channel ((:) (Ident "train") ([])) (Just (TypeDot ((:) (Var (Ident "ELA")) ([]))))) ((:) (Channel ((:) (Ident "gate") ([])) (Just (TypeDot ((:) (Var (Ident "UD")) ([]))))) ((:) (PatBind (VarPat (Ident "CARS")) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "approach"))) ([])) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "enter"))) ([])) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "CARS")))))) ((:) (PatBind (VarPat (Ident "TRAINS")) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "approach"))) ([])) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "enter"))) ([])) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "TRAINS")))))) ((:) (PatBind (VarPat (Ident "CR_UP")) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "approach"))) ([])) (Var (Ident "CR_UP"))) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "enter"))) ([])) (Var (Ident "CR_UP")))) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "CR_UP")))) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "approach"))) ([])) (Var (Ident "CR_UP")))) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "enter"))) ([])) (Var (Ident "CR_UP")))) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "CR_UP")))) (PrefixExp (Var (Ident "gate")) ((:) (OutComm (Var (Ident "lower"))) ([])) (Var (Ident "CR_DOWN"))))) ((:) (PatBind (VarPat (Ident "CR_DOWN")) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "approach"))) ([])) (Var (Ident "CR_DOWN"))) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "CR_DOWN")))) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "approach"))) ([])) (Var (Ident "CR_DOWN")))) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "enter"))) ([])) (Var (Ident "CR_DOWN")))) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "CR_DOWN")))) (PrefixExp (Var (Ident "gate")) ((:) (OutComm (Var (Ident "raise"))) ([])) (Var (Ident "CR_UP"))))) ((:) (PatBind (VarPat (Ident "SYSTEM")) (ProcAParallel (Closure ((:) (Var (Ident "train")) ((:) (Var (Ident "car")) ((:) (Var (Ident "gate")) ([]))))) (Closure ((:) (Var (Ident "train")) ([]))) (Parens (ProcAParallel (Closure ((:) (Var (Ident "train")) ((:) (Var (Ident "car")) ((:) (Var (Ident "gate")) ([]))))) (Closure ((:) (Var (Ident "car")) ([]))) (Var (Ident "CR_UP")) (Var (Ident "CARS")))) (Var (Ident "TRAINS")))) ((:) (PatBind (VarPat (Ident "SPEC")) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "enter"))) ([])) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "SPEC")))) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "enter"))) ([])) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "SPEC")))))) ((:) (FunBind (Ident "RUN") ((:) (FunCase ((:) ((:) (VarPat (Ident "A")) ([])) ([])) (ProcRepChoice ((:) (Generator (VarPat (Ident "x")) (Var (Ident "A"))) ([])) (PrefixExp (Var (Ident "x")) ([]) (CallFunction (Var (Ident "RUN")) ((:) ((:) (Var (Ident "A")) ([])) ([])))))) ([]))) ((:) (AssertRef (Var (Ident "SPEC")) "k" (Fun2 (BuiltIn (F_Hiding)) (Var (Ident "SYSTEM")) (Closure ((:) (Var (Ident "gate")) ((:) (DotTuple ((:) (Var (Ident "car")) ((:) (Var (Ident "approach")) ([])))) ((:) (DotTuple ((:) (Var (Ident "train")) ((:) (Var (Ident "approach")) ([])))) ([]))))))) ((:) (PatBind (VarPat (Ident "CONTROL")) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "approach"))) ([])) (PrefixExp (Var (Ident "gate")) ((:) (OutComm (Var (Ident "lower"))) ([])) (Var (Ident "CONTROL_D")))) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "approach"))) ([])) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "enter"))) ([])) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "CONTROL"))))))) ((:) (PatBind (VarPat (Ident "CONTROL_D")) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "enter"))) ([])) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Parens (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "gate")) ((:) (OutComm (Var (Ident "raise"))) ([])) (Var (Ident "CONTROL"))) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "approach"))) ([])) (Var (Ident "CONTROL_D")))))))) ((:) (PatBind (VarPat (Ident "SAFE_SYSTEM")) (ProcAParallel (Closure ((:) (Var (Ident "train")) ((:) (Var (Ident "car")) ((:) (Var (Ident "gate")) ([]))))) (Closure ((:) (Var (Ident "train")) ((:) (Var (Ident "car")) ((:) (Var (Ident "gate")) ([]))))) (Var (Ident "SYSTEM")) (Var (Ident "CONTROL")))) ((:) (AssertRef (Var (Ident "SPEC")) "k" (Fun2 (BuiltIn (F_Hiding)) (Var (Ident "SAFE_SYSTEM")) (Closure ((:) (Var (Ident "gate")) ((:) (DotTuple ((:) (Var (Ident "car")) ((:) (Var (Ident "approach")) ([])))) ((:) (DotTuple ((:) (Var (Ident "train")) ((:) (Var (Ident "approach")) ([])))) ([]))))))) ((:) (PatBind (VarPat (Ident "CARSPEC")) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "approach"))) ([])) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "enter"))) ([])) (PrefixExp (Var (Ident "car")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "CARSPEC")))))) ((:) (PatBind (VarPat (Ident "TRAINSPEC")) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "approach"))) ([])) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "enter"))) ([])) (PrefixExp (Var (Ident "train")) ((:) (OutComm (Var (Ident "leave"))) ([])) (Var (Ident "TRAINSPEC")))))) ((:) (AssertRef (Var (Ident "CARSPEC")) "k" (Parens (Fun2 (BuiltIn (F_Hiding)) (Var (Ident "SAFE_SYSTEM")) (Closure ((:) (Var (Ident "train")) ((:) (Var (Ident "gate")) ([]))))))) ((:) (AssertRef (Var (Ident "TRAINSPEC")) "k" (Parens (Fun2 (BuiltIn (F_Hiding)) (Var (Ident "SAFE_SYSTEM")) (Closure ((:) (Var (Ident "car")) ((:) (Var (Ident "gate")) ([]))))))) ((:) (PatBind (VarPat (Ident "NC")) (PrefixExp (Var (Ident "gate")) ((:) (OutComm (Var (Ident "lower"))) ([])) (Stop))) ((:) (PatBind (VarPat (Ident "NEW_SAFE_SYSTEM")) (ProcAParallel (Closure ((:) (Var (Ident "train")) ((:) (Var (Ident "car")) ((:) (Var (Ident "gate")) ([]))))) (Closure ((:) (Var (Ident "gate")) ([]))) (Var (Ident "SAFE_SYSTEM")) (Var (Ident "NC")))) ((:) (AssertRef (Var (Ident "CARSPEC")) "k" (Parens (Fun2 (BuiltIn (F_Hiding)) (Var (Ident "NEW_SAFE_SYSTEM")) (Closure ((:) (Var (Ident "train")) ((:) (Var (Ident "gate")) ([]))))))) ((:) (AssertRef (Var (Ident "TRAINSPEC")) "k" (Parens (Fun2 (BuiltIn (F_Hiding)) (Var (Ident "NEW_SAFE_SYSTEM")) (Closure ((:) (Var (Ident "car")) ((:) (Var (Ident "gate")) ([]))))))) ([])))))))))))))))))))))))))) (Nothing))