(Module ((:) (NameType (Ident "Val2") (TypeDot ((:) (SetClose ((,) (IntExp (0)) (IntExp (6)))) ([])))) ((:) (PatBind (VarPat (Ident "Val")) (SetClose ((,) (IntExp (0)) (IntExp (6))))) ((:) (DataType (Ident "Slot") ((:) (Constructor (Ident "sl1") (Nothing)) ((:) (Constructor (Ident "sl2") (Nothing)) ((:) (Constructor (Ident "sl3") (Nothing)) ((:) (Constructor (Ident "sl4") (Nothing)) ([])))))) ((:) (DataType (Ident "Signal") ((:) (Constructor (Ident "noarg") (Nothing)) ((:) (Constructor (Ident "valarg") (Just (TypeDot ((:) (Var (Ident "Val")) ([]))))) ((:) (Constructor (Ident "slotarg") (Just (TypeDot ((:) (Var (Ident "Slot")) ([]))))) ((:) (Constructor (Ident "botharg") (Just (TypeDot ((:) (Var (Ident "Val")) ((:) (Var (Ident "Slot")) ([])))))) ([])))))) ((:) (SubType (Ident "LPSignal") ((:) (Constructor (Ident "noarg") (Nothing)) ((:) (Constructor (Ident "slotarg") (Just (TypeDot ((:) (Var (Ident "Slot")) ([]))))) ([])))) ((:) (SubType (Ident "HPSignal") ((:) (Constructor (Ident "valarg") (Just (TypeDot ((:) (Var (Ident "Val")) ([]))))) ((:) (Constructor (Ident "botharg") (Just (TypeDot ((:) (Var (Ident "Val")) ((:) (Var (Ident "Slot")) ([])))))) ([])))) ((:) (Channel ((:) (Ident "gen_high_pri") ([])) (Just (TypeDot ((:) (Var (Ident "HPSignal")) ([]))))) ((:) (Channel ((:) (Ident "gen_low_pri") ([])) (Just (TypeDot ((:) (Var (Ident "LPSignal")) ([]))))) ((:) (Channel ((:) (Ident "remove") ([])) (Just (TypeDot ((:) (Var (Ident "Signal")) ([]))))) ((:) (PatBind (VarPat (Ident "Test")) (PrefixExp (Var (Ident "remove")) ((:) (InComm (VarPat (Ident "sgn"))) ([])) (Var (Ident "Test")))) ((:) (PatBind (VarPat (Ident "Test2")) (PrefixExp (Var (Ident "gen_high_pri")) ((:) (InComm (VarPat (Ident "v"))) ([])) (Var (Ident "Test2")))) ((:) (PatBind (VarPat (Ident "CAPACITY")) (IntExp (3))) ((:) (FunBind (Ident "Q") ((:) (FunCase ((:) ((:) (VarPat (Ident "s1")) ((:) (VarPat (Ident "s2")) ([]))) ([])) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_Guard)) (Fun2 (BuiltIn (F_LT)) (Fun1 (BuiltIn (F_Len2)) (Var (Ident "s1"))) (Var (Ident "CAPACITY"))) (PrefixExp (Var (Ident "gen_high_pri")) ((:) (InComm (VarPat (Ident "sig"))) ([])) (CallFunction (Var (Ident "Q")) ((:) ((:) (Fun2 (BuiltIn (F_Concat)) (Var (Ident "s1")) (ListEnum ((:) (Var (Ident "sig")) ([])))) ((:) (Var (Ident "s2")) ([]))) ([]))))) (Fun2 (BuiltIn (F_Guard)) (Fun2 (BuiltIn (F_LT)) (Fun1 (BuiltIn (F_Len2)) (Var (Ident "s2"))) (Var (Ident "CAPACITY"))) (PrefixExp (Var (Ident "gen_low_pri")) ((:) (InComm (VarPat (Ident "sig2"))) ([])) (CallFunction (Var (Ident "Q")) ((:) ((:) (Var (Ident "s1")) ((:) (Fun2 (BuiltIn (F_Concat)) (Var (Ident "s2")) (ListEnum ((:) (Var (Ident "sig2")) ([])))) ([]))) ([])))))) (Fun2 (BuiltIn (F_Guard)) (Fun2 (BuiltIn (F_GT)) (Fun1 (BuiltIn (F_Len2)) (Var (Ident "s1"))) (IntExp (0))) (PrefixExp (Var (Ident "remove")) ((:) (OutComm (CallBuiltIn (BuiltIn (F_head)) ((:) ((:) (Var (Ident "s1")) ([])) ([])))) ([])) (CallFunction (Var (Ident "Q")) ((:) ((:) (CallBuiltIn (BuiltIn (F_tail)) ((:) ((:) (Var (Ident "s1")) ([])) ([]))) ((:) (Var (Ident "s2")) ([]))) ([])))))) (Fun2 (BuiltIn (F_Guard)) (AndExp (Fun2 (BuiltIn (F_Eq)) (Fun1 (BuiltIn (F_Len2)) (Var (Ident "s1"))) (IntExp (0))) (Fun2 (BuiltIn (F_GT)) (Fun1 (BuiltIn (F_Len2)) (Var (Ident "s2"))) (IntExp (0)))) (PrefixExp (Var (Ident "remove")) ((:) (OutComm (CallBuiltIn (BuiltIn (F_head)) ((:) ((:) (Var (Ident "s2")) ([])) ([])))) ([])) (CallFunction (Var (Ident "Q")) ((:) ((:) (Var (Ident "s1")) ((:) (CallBuiltIn (BuiltIn (F_tail)) ((:) ((:) (Var (Ident "s2")) ([])) ([]))) ([]))) ([]))))))) ([]))) ((:) (PatBind (VarPat (Ident "IN")) (PrefixExp (Var (Ident "gen_low_pri")) ((:) (OutComm (Var (Ident "noarg"))) ([])) (PrefixExp (Var (Ident "gen_high_pri")) ((:) (OutComm (Var (Ident "valarg"))) ((:) (InComm (VarPat (Ident "v1"))) ([]))) (PrefixExp (Var (Ident "gen_low_pri")) ((:) (OutComm (Var (Ident "slotarg"))) ((:) (InComm (VarPat (Ident "s12"))) ([]))) (PrefixExp (Var (Ident "gen_high_pri")) ((:) (OutComm (Var (Ident "botharg"))) ((:) (InComm (VarPat (Ident "v2"))) ((:) (InComm (VarPat (Ident "s22"))) ([])))) (Stop)))))) ((:) (PatBind (VarPat (Ident "OUT")) (PrefixExp (Var (Ident "remove")) ((:) (InComm (VarPat (Ident "s"))) ([])) (Var (Ident "OUT")))) ((:) (PatBind (VarPat (Ident "NET")) (ProcSharing (Closure ((:) (Var (Ident "gen_high_pri")) ((:) (Var (Ident "gen_low_pri")) ((:) (Var (Ident "remove")) ([]))))) (Parens (Fun2 (BuiltIn (F_Interleave)) (Var (Ident "IN")) (Var (Ident "OUT")))) (CallFunction (Var (Ident "Q")) ((:) ((:) (ListEnum ([])) ((:) (ListEnum ([])) ([]))) ([]))))) ((:) (PatBind (VarPat (Ident "MAIN")) (Var (Ident "NET"))) ([])))))))))))))))))) (Nothing))