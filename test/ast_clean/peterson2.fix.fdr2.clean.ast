(Module ((:) (Channel ((:) (Ident "flag1set") ((:) (Ident "flag1read") ((:) (Ident "flag2set") ((:) (Ident "flag2read") ([]))))) (Just (TypeDot ((:) (SetClose ((,) (IntExp (1)) (IntExp (2)))) ((:) (BoolSet) ([])))))) ((:) (Channel ((:) (Ident "turnset") ((:) (Ident "turnread") ([]))) (Just (TypeDot ((:) (SetClose ((,) (IntExp (1)) (IntExp (2)))) ((:) (SetClose ((,) (IntExp (1)) (IntExp (2)))) ([])))))) ((:) (Channel ((:) (Ident "enter") ((:) (Ident "critical") ((:) (Ident "leave") ([])))) (Just (TypeDot ((:) (SetClose ((,) (IntExp (1)) (IntExp (2)))) ([]))))) ((:) (FunBind (Ident "FLAG1") ((:) (FunCase ((:) ((:) (VarPat (Ident "v")) ([])) ([])) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "flag1set")) ((:) (InComm (VarPat (Ident "x"))) ((:) (InComm (VarPat (Ident "y"))) ([]))) (CallFunction (Var (Ident "FLAG1")) ((:) ((:) (Var (Ident "y")) ([])) ([])))) (PrefixExp (Var (Ident "flag1read")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (Var (Ident "v"))) ([]))) (CallFunction (Var (Ident "FLAG1")) ((:) ((:) (Var (Ident "v")) ([])) ([]))))) (PrefixExp (Var (Ident "flag1read")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (Var (Ident "v"))) ([]))) (CallFunction (Var (Ident "FLAG1")) ((:) ((:) (Var (Ident "v")) ([])) ([])))))) ([]))) ((:) (FunBind (Ident "FLAG2") ((:) (FunCase ((:) ((:) (VarPat (Ident "v2")) ([])) ([])) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "flag2set")) ((:) (InComm (VarPat (Ident "x2"))) ((:) (InComm (VarPat (Ident "y2"))) ([]))) (CallFunction (Var (Ident "FLAG2")) ((:) ((:) (Var (Ident "y2")) ([])) ([])))) (PrefixExp (Var (Ident "flag2read")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (Var (Ident "v2"))) ([]))) (CallFunction (Var (Ident "FLAG2")) ((:) ((:) (Var (Ident "v2")) ([])) ([]))))) (PrefixExp (Var (Ident "flag2read")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (Var (Ident "v2"))) ([]))) (CallFunction (Var (Ident "FLAG2")) ((:) ((:) (Var (Ident "v2")) ([])) ([])))))) ([]))) ((:) (FunBind (Ident "TURN") ((:) (FunCase ((:) ((:) (VarPat (Ident "v3")) ([])) ([])) (Fun2 (BuiltIn (F_ExtChoice)) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "turnset")) ((:) (InComm (VarPat (Ident "x3"))) ((:) (InComm (VarPat (Ident "y3"))) ([]))) (CallFunction (Var (Ident "TURN")) ((:) ((:) (Var (Ident "y3")) ([])) ([])))) (PrefixExp (Var (Ident "turnread")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (Var (Ident "v3"))) ([]))) (CallFunction (Var (Ident "TURN")) ((:) ((:) (Var (Ident "v3")) ([])) ([]))))) (PrefixExp (Var (Ident "turnread")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (Var (Ident "v3"))) ([]))) (CallFunction (Var (Ident "TURN")) ((:) ((:) (Var (Ident "v3")) ([])) ([])))))) ([]))) ((:) (PatBind (VarPat (Ident "P1")) (PrefixExp (Var (Ident "flag1set")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (CTrue)) ([]))) (PrefixExp (Var (Ident "turnset")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (IntExp (2))) ([]))) (Var (Ident "P1WAIT"))))) ((:) (PatBind (VarPat (Ident "P1WAIT")) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "flag2read")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (CTrue)) ([]))) (Parens (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "turnread")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (IntExp (2))) ([]))) (Var (Ident "P1WAIT"))) (PrefixExp (Var (Ident "turnread")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (IntExp (1))) ([]))) (Var (Ident "P1ENTER")))))) (PrefixExp (Var (Ident "flag2read")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (CFalse)) ([]))) (Var (Ident "P1ENTER"))))) ((:) (PatBind (VarPat (Ident "P1ENTER")) (PrefixExp (Var (Ident "enter")) ((:) (OutComm (IntExp (1))) ([])) (PrefixExp (Var (Ident "critical")) ((:) (OutComm (IntExp (1))) ([])) (PrefixExp (Var (Ident "leave")) ((:) (OutComm (IntExp (1))) ([])) (PrefixExp (Var (Ident "flag1set")) ((:) (OutComm (IntExp (1))) ((:) (OutComm (CFalse)) ([]))) (Var (Ident "P1"))))))) ((:) (PatBind (VarPat (Ident "P2")) (PrefixExp (Var (Ident "flag2set")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (CTrue)) ([]))) (PrefixExp (Var (Ident "turnset")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (IntExp (1))) ([]))) (Var (Ident "P2WAIT"))))) ((:) (PatBind (VarPat (Ident "P2WAIT")) (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "flag1read")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (CTrue)) ([]))) (Parens (Fun2 (BuiltIn (F_ExtChoice)) (PrefixExp (Var (Ident "turnread")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (IntExp (1))) ([]))) (Var (Ident "P2WAIT"))) (PrefixExp (Var (Ident "turnread")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (IntExp (2))) ([]))) (Var (Ident "P2ENTER")))))) (PrefixExp (Var (Ident "flag1read")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (CFalse)) ([]))) (Var (Ident "P2ENTER"))))) ((:) (PatBind (VarPat (Ident "P2ENTER")) (PrefixExp (Var (Ident "enter")) ((:) (OutComm (IntExp (2))) ([])) (PrefixExp (Var (Ident "critical")) ((:) (OutComm (IntExp (2))) ([])) (PrefixExp (Var (Ident "leave")) ((:) (OutComm (IntExp (2))) ([])) (PrefixExp (Var (Ident "flag2set")) ((:) (OutComm (IntExp (2))) ((:) (OutComm (CFalse)) ([]))) (Var (Ident "P2"))))))) ((:) (PatBind (VarPat (Ident "aP1")) (Closure ((:) (DotTuple ((:) (Var (Ident "flag1set")) ((:) (IntExp (1)) ([])))) ((:) (DotTuple ((:) (Var (Ident "flag1read")) ((:) (IntExp (1)) ([])))) ((:) (DotTuple ((:) (Var (Ident "flag2set")) ((:) (IntExp (1)) ([])))) ((:) (DotTuple ((:) (Var (Ident "flag2read")) ((:) (IntExp (1)) ([])))) ((:) (DotTuple ((:) (Var (Ident "turnset")) ((:) (IntExp (1)) ([])))) ((:) (DotTuple ((:) (Var (Ident "turnread")) ((:) (IntExp (1)) ([])))) ((:) (DotTuple ((:) (Var (Ident "enter")) ((:) (IntExp (1)) ([])))) ((:) (DotTuple ((:) (Var (Ident "critical")) ((:) (IntExp (1)) ([])))) ((:) (DotTuple ((:) (Var (Ident "leave")) ((:) (IntExp (1)) ([])))) ([])))))))))))) ((:) (PatBind (VarPat (Ident "aP2")) (Closure ((:) (DotTuple ((:) (Var (Ident "flag1set")) ((:) (IntExp (2)) ([])))) ((:) (DotTuple ((:) (Var (Ident "flag1read")) ((:) (IntExp (2)) ([])))) ((:) (DotTuple ((:) (Var (Ident "flag2set")) ((:) (IntExp (2)) ([])))) ((:) (DotTuple ((:) (Var (Ident "flag2read")) ((:) (IntExp (2)) ([])))) ((:) (DotTuple ((:) (Var (Ident "turnset")) ((:) (IntExp (2)) ([])))) ((:) (DotTuple ((:) (Var (Ident "turnread")) ((:) (IntExp (2)) ([])))) ((:) (DotTuple ((:) (Var (Ident "enter")) ((:) (IntExp (2)) ([])))) ((:) (DotTuple ((:) (Var (Ident "critical")) ((:) (IntExp (2)) ([])))) ((:) (DotTuple ((:) (Var (Ident "leave")) ((:) (IntExp (2)) ([])))) ([])))))))))))) ((:) (PatBind (VarPat (Ident "aF1")) (Closure ((:) (Var (Ident "flag1set")) ((:) (Var (Ident "flag1read")) ([]))))) ((:) (PatBind (VarPat (Ident "aF2")) (Closure ((:) (Var (Ident "flag2set")) ((:) (Var (Ident "flag2read")) ([]))))) ((:) (PatBind (VarPat (Ident "aT")) (Closure ((:) (Var (Ident "turnset")) ((:) (Var (Ident "turnread")) ([]))))) ((:) (PatBind (VarPat (Ident "PROCS")) (ProcAParallel (Var (Ident "aP1")) (Var (Ident "aP2")) (Var (Ident "P1")) (Var (Ident "P2")))) ((:) (PatBind (VarPat (Ident "FLAGS")) (ProcAParallel (Var (Ident "aF1")) (Var (Ident "aF2")) (CallFunction (Var (Ident "FLAG1")) ((:) ((:) (CFalse) ([])) ([]))) (CallFunction (Var (Ident "FLAG2")) ((:) ((:) (CFalse) ([])) ([]))))) ((:) (PatBind (VarPat (Ident "VARS")) (ProcAParallel (CallBuiltIn (BuiltIn (F_union)) ((:) ((:) (Var (Ident "aF1")) ((:) (Var (Ident "aF2")) ([]))) ([]))) (Var (Ident "aT")) (Var (Ident "FLAGS")) (CallFunction (Var (Ident "TURN")) ((:) ((:) (IntExp (1)) ([])) ([]))))) ((:) (PatBind (VarPat (Ident "SYSTEM")) (ProcAParallel (CallBuiltIn (BuiltIn (F_union)) ((:) ((:) (Var (Ident "aP1")) ((:) (Var (Ident "aP2")) ([]))) ([]))) (CallBuiltIn (BuiltIn (F_union)) ((:) ((:) (CallBuiltIn (BuiltIn (F_union)) ((:) ((:) (Var (Ident "aF1")) ((:) (Var (Ident "aF2")) ([]))) ([]))) ((:) (Var (Ident "aT")) ([]))) ([]))) (Var (Ident "PROCS")) (Var (Ident "VARS")))) ([])))))))))))))))))))))) (Nothing))